@model Weblitz.Shop.Web.Models.View.CategoryPage

@{
    Layout = "~/Views/Shared/_SidebarLayout.cshtml";
}

<div class="navbar">
    <div class="navbar-inner">
        <ul class="nav">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Sort <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="#"><i class="icon-arrow-up"></i> Name</a></li>
                    <li><a href="#"><i class="icon-arrow-down"></i> Name</a></li>
                    <li><a href="#"><i class="icon-arrow-up"></i> Price</a></li>
                    <li><a href="#"><i class="icon-arrow-down"></i> Price</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    View <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="#"><i class="icon-th"></i> Grid</a></li>
                    <li><a href="#"><i class="icon-th-list"></i> List</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    Page <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="#">25</a></li>
                    <li><a href="#">50</a></li>
                    <li><a href="#">100</a></li>
                </ul>
            </li>
        </ul>
        @{ Html.RenderPartial("_Pager", Model); }
    </div>
</div>
@for (var m = 0; m <= Model.Container.Items.Count / Model.Container.GroupCount; m++)
{
    <div class="row-fluid">
        <ul class="thumbnails">            
            @for (var n = 0; n < Model.Container.GroupCount; n++)
            {
                <li class="span@(12 / Model.Container.GroupCount)">
                    @if (m * Model.Container.GroupCount + n < Model.Container.Items.Count)
                    {
                        <div class="thumbnail">
                            @{ Html.RenderPartial("_ProductSummary", Model.Container.Items[m * Model.Container.GroupCount + n]); }
                        </div>
                    }
                </li>
            }
        </ul>
    </div>
}

@section sidebar
{
    <h3>@Model.Sidebar.Name</h3>
    @if (Model.Sidebar.Children.Count > 0)
    {
        <ul class="unstyled">
            @foreach (var x in Model.Sidebar.Children)
            {
                <li>
                    @Html.ActionLink(x.Link.LinkText, x.Link.ActionName, x.Link.ControllerName, x.Link.RouteValues, null)
                    <span class="pull-right badge badge-info"><small>@x.Count</small></span>
                </li>
            }
        </ul>
    }
}
